<!DOCTYPE html> <html><head>
		<title>Executable and Linkable Format - Formato ELF</title>
		<base href="..\..\..\..\../">
		<meta id="root-path" root-path="..\..\..\..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Hacking - Executable and Linkable Format - Formato ELF">
		<meta property="og:title" content="Executable and Linkable Format - Formato ELF">
		<meta property="og:description" content="Hacking - Executable and Linkable Format - Formato ELF">
		<meta property="og:type" content="website">
		<meta property="og:url" content="notes/3.-sistema/global-concepts/formatos-ejecutables/linux-unix/executable-and-linkable-format-formato-elf.html">
		<meta property="og:image" content="lib\media\elf_format.png">
		<meta property="og:site_name" content="Hacking">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="Executable and Linkable Format - Formato ELF"><p>Executable and Linkable Format - Formato ELF</p></h1><div><hr></div><div><ul>
<li data-line="0">Tags: <a href="?query=tag:teoria" class="tag" target="_blank" rel="noopener">#teoria</a> <a href="?query=tag:sistemas" class="tag" target="_blank" rel="noopener">#sistemas</a> <a href="?query=tag:ejecutables" class="tag" target="_blank" rel="noopener">#ejecutables</a></li>
</ul></div><div><hr></div><div class="heading-wrapper"><h1 data-heading="ELF - Executable and Linkable Format" class="heading" id="ELF_-_Executable_and_Linkable_Format">ELF - Executable and Linkable Format</h1><div class="heading-children"><div><p>El formato <strong>ELF (Executable and Linkable Format)</strong> es un estándar amplicamente utilizado en sistemas operativos Unix y Linux para representar archivos ejecutables, bibliotecas compartidas y objetos compilados. Fue diseñado para ser un formato versátil y extensible que permite a los desarrolladores crear y distribuir software de manera eficiente y portátil.</p></div><div><hr></div></div></div><div class="heading-wrapper"><h1 data-heading="Estructura" class="heading" id="Estructura">Estructura</h1><div class="heading-children"><div><p>Un archivo <strong>ELF</strong> consiste en una serie de <strong>encabezados</strong> y <strong>secciones</strong> que indican al <strong>sistema operativo</strong> cómo cargar y administrar el archivo en memoria. Recordemos que un archivo ELF se utiliza para proporcionar información esencial al sistema operativo sobre cómo organizar y ejecutar el cotenido del archivo. La información que el sistema necesita puede incluir:</p></div><div><ul>
<li data-line="0">Referencias a bibliotecas compartidas que deben ser cargadas.</li>
<li data-line="1">Tablas de símbolos para resolución de símbolos.</li>
<li data-line="2">Segmentos y secciones que especifican cómo se debe cargar el archivo en memoria. (El sistema operativo mapeará el archivo en memoria en partes, no en su totalidad).</li>
</ul></div><div><p>Es importante tener en cuenta que además, la <strong>estructura</strong> de un archivo ELF puede variar ya que dependiendo de si es un ejecutable, un objeto, una biblioteca compartida, etc. puede ser que el Program Header Table este previo el Section Header Table, esto de igual manera estara declarado en el ELF Header, donde el campo <em>e_phoff</em> (<em>Program Header Table Offset</em>) indicará la ubicación del inicio del Program Header Table así como el camp <em>e_shoff</em> (<em>Section Header Table Offset</em>) que inidicará la ubicación del inicio del Section Header Table. Teniendo en cuenta esto, la estructura del archivo ELF es la siguiente:</p></div><div><p>Imagén capturada de <a data-href="ELF_Format.draw" href="notes/3.-sistema/global-concepts/formatos-ejecutables/linux-unix/graficos/elf_format.draw.html" class="internal-link" target="_self" rel="noopener">ELF_Format.draw</a><br>
<span alt="ELF_Format.png" src="ELF_Format.png" class="internal-embed media-embed image-embed is-loaded"><img alt="ELF_Format.png" src="lib/media/elf_format.png"></span></p></div><div><hr></div></div></div><div class="heading-wrapper"><h1 data-heading="ELF Header (Elf32_Ehdr / Elf64_Ehdr)" class="heading" id="ELF_Header_(Elf32_Ehdr_/_Elf64_Ehdr)">ELF Header (Elf32_Ehdr / Elf64_Ehdr)</h1><div class="heading-children"><div><p>Este es el Header principal de un archivo ELF. Contiene información fundamental, como el tipo de archvo (Ejecutable, objeto, biblioteca compartida, etc.), la arquitectura del procesador, la versión del formato, el punto de entrada y otros datos esenciales.</p></div><div><p>Definición de ELF Header en 32 bits:</p></div><div><pre class="language-c" tabindex="0"><code class="language-c is-loaded"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;elf.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">EI_NIDENT</span> <span class="token expression"><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span></span></span>
 
<span class="token keyword">typedef</span> <span class="token keyword">struct</span>
<span class="token punctuation">{</span>
  <span class="token keyword">unsigned</span> <span class="token keyword">char</span> e_ident<span class="token punctuation">[</span>EI_NIDENT<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">/* Número mágico y otros datos */</span>
  Elf32_Half e_type<span class="token punctuation">;</span> <span class="token comment">/* Tipo de fichero (ejecutable, biblio...) */</span>
  Elf32_Half e_machine<span class="token punctuation">;</span> <span class="token comment">/* Arquitectura */</span>
  Elf32_Word e_version<span class="token punctuation">;</span> <span class="token comment">/* Versión */</span>
  Elf32_Addr e_entry<span class="token punctuation">;</span> <span class="token comment">/* Punto de entrada */</span>
  Elf32_Off e_phoff<span class="token punctuation">;</span> <span class="token comment">/* Desplazamiento a la tabla de cabeceras de programa */</span>
  Elf32_Off e_shoff<span class="token punctuation">;</span> <span class="token comment">/* Desplazamiento a la tabla de cabeceras de sección */</span>
  Elf32_Word e_flags<span class="token punctuation">;</span> <span class="token comment">/* Flags específicos del procesador */</span>
  Elf32_Half e_ehsize<span class="token punctuation">;</span> <span class="token comment">/* Tamaño de la cabecera ELF */</span>
  Elf32_Half e_phentsize<span class="token punctuation">;</span> <span class="token comment">/* Tamaño de las cabeceras de programa */</span>
  Elf32_Half e_phnum<span class="token punctuation">;</span> <span class="token comment">/* Número de cabeceras de programa */</span>
  Elf32_Half e_shentsize<span class="token punctuation">;</span> <span class="token comment">/* Tamaño de las cabeceras de sección */</span>
  Elf32_Half e_shnum<span class="token punctuation">;</span> <span class="token comment">/* Número de cabeceras de sección */</span>
  Elf32_Half e_shstrndx<span class="token punctuation">;</span> <span class="token comment">/* Cabecera de sección que apunta a los nombres del resto de cabeceras */</span>
<span class="token punctuation">}</span> Elf32_Ehdr<span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>El comando <strong>readelf</strong> es una herramienta de línea de comandos que se utiliza para examinar y mostrar información detallada sobre archivos en formato ELF. </p></div><div><p>Podemos visualizar el <strong>ELF Header</strong> haciendo uso del comando:</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded">readelf -h <span class="token punctuation">{</span>ELF_file<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Ejemplo: </p></div><div><p><span alt="readelf_elf_header.png" src="readelf_elf_header.png" class="internal-embed media-embed image-embed is-loaded"><img alt="readelf_elf_header.png" src="lib/media/readelf_elf_header.png"></span></p></div><div><hr></div></div></div><div class="heading-wrapper"><h1 data-heading="Program Header Table (Elf32_Phdr / Elf64_Phdr)" class="heading" id="Program_Header_Table_(Elf32_Phdr_/_Elf64_Phdr)">Program Header Table (Elf32_Phdr / Elf64_Phdr)</h1><div class="heading-children"><div><p>Esta es una tabla que consta de entradas de tipo <strong>Elf32_Phdr</strong> o <strong>Elf64_Phdr</strong>, donde cada entrada describe un segmento de programa específico dentro del archivo ELF. Cuando nos referimos a <em>describir un segmento de programa</em> nos referimos a proporcionar información sobre cómo se debe cargar y gestionar una parte específica del programa en la memoria durante su ejecución.</p></div><div><p>Esta tabla esta presente solo en archivos ejecutables y es una parte esencial de los archivos ELF, describe las segmentaciones de programa contenidas en el archiovo. A diferencia de los <strong>Section Headers</strong> que se utilizan para describir las secciones individuales del archivo (Como código, datos, etc.) los <strong>Program Headers</strong> se utilizan para describir segmentos de memoria que se cargan en la memoria durante la ejecución del programa. Estos segmentes pueden contener código ejecutable, datos, bibliotecas compartidas y otros recursos.</p></div><div><p>Para correr un programa, el Kernel cargar el <strong>ELF Header</strong> y el <strong>Program Header Table</strong> en memoria. Luego, carga el contenido especificado en el apatado <strong>LOAD</strong> de esta encabezado en memoria y también revisa si el intérprete es necesitado. Por último, se le da el control al propio ejecutable o al intérprete si está disponible. </p></div><div><p>Definición de cada elemento <strong>Program Header</strong> en 32 bits, empiezan en el offset <em>e_phoff</em> del <strong>ELF Header</strong> y es un array con <em>e_phnum</em> de estos elementos:</p></div><div><pre class="language-c" tabindex="0"><code class="language-c is-loaded"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>  
	<span class="token class-name">uint32_t</span> p_type<span class="token punctuation">;</span>    <span class="token comment">/* Tipo de segmento */</span>
	Elf32_Off p_offset<span class="token punctuation">;</span> <span class="token comment">/* Desplazamiento dentro del archivo a partir del cual empieza */</span>  
	Elf32_Addr p_vaddr<span class="token punctuation">;</span> <span class="token comment">/* Dirección virtual donde el segmento debe cargarse */</span>   
	Elf32_Addr p_paddr<span class="token punctuation">;</span> <span class="token comment">/* Dirección física de carga, esto no es usado en la mayoría de sistemas */</span>   
	<span class="token class-name">uint32_t</span> p_filesz<span class="token punctuation">;</span>  <span class="token comment">/* Tamaño del segmento en el fichero, es el número de bytes que físicamente ocupa dentro del ELF */</span>  
	<span class="token class-name">uint32_t</span> p_memsz<span class="token punctuation">;</span>   <span class="token comment">/* Tamaño en memoria, cuando es mayor que el tamaño anterior, los bytes extra se suelen rellenar con ceros */</span>  
	<span class="token class-name">uint32_t</span> p_flags<span class="token punctuation">;</span>   <span class="token comment">/* Flags, indicando si el segmento se puede leer, escribir y/o ejecutar */</span>
	<span class="token class-name">uint32_t</span> p_align<span class="token punctuation">;</span>   <span class="token comment">/* Alineamiento, debe ser potencia de dos */</span>   
<span class="token punctuation">}</span> Elf32_Phdr<span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Para listar la <strong>Program Header Table</strong> de un archivo ELF, podemos utilizar el siguiente comando:</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded">readelf -l <span class="token punctuation">{</span>ELF_file<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Ejemplo: </p></div><div><p><span alt="readelf_program_table.png" src="readelf_program_table.png" class="internal-embed media-embed image-embed is-loaded"><img alt="readelf_program_table.png" src="lib/media/readelf_program_table.png"></span></p></div><div><hr></div></div></div><div class="heading-wrapper"><h1 data-heading="Sections" class="heading" id="Sections">Sections</h1><div class="heading-children"><div><p>Luego del <strong>Program Header Table</strong>, vienen las secciones del archivo ELF. Las secciones son áreas lógicas dentro del archivo qeu contiene código, datos, símbolos, tablas de reubicación, información de depuración y otros tipos de datos. Cada sección tiene un propósito específico en el programa.</p></div><div><p>Algunas de las secciones habituales más importantes que existe en la mayoría de archivos ELF son:</p></div><div><ul>
<li data-line="0"><strong>.text</strong>: Esta sección contiene el código ejecutable del programa. Es donde reside el código fuente compilado y se ejecuta cuando se inicia el programa. En esta sección se encuentra la lógica principal.</li>
<li data-line="1"><strong>.data</strong>: Esta sección almacena datos inicializados que el programa utiliza durante su ejecución. Esto puede incluir variables globales y datos estáticos que tienen un valor específico en el momento de la compilación.</li>
<li data-line="2"><strong>.rodata</strong>: Similar a la sección <em>.rdata</em> en el <a data-href="Portable Executable - Formato PE" href="notes/3.-sistema/global-concepts/formatos-ejecutables/windows/portable-executable-formato-pe.html" class="internal-link" target="_self" rel="noopener">Portable Executable - Formato PE</a>, esta sección (<em>Read-only data</em>) almacena datos qeu son de solo lectura durante la ejecución. Estos datso suelen incluir cadenas constantes y otros valores que no deben modificarse.</li>
<li data-line="3"><strong>.plt</strong> y <strong>.got</strong>: Estas secciones están relacionadas con la resolución de símbolos y la vinculación dinámica. <em>.plt</em> (Procedure Linkage Table) contiene saltos de código que se utilizan para la resolución de símbolos en tiempo de ejecución, mientras que <em>.got</em> (Gloabl Offset Table) contiene punteros a funciones y variables globales que se resuelven en tiempo de ejecución.</li>
<li data-line="4"><strong>.rel[a].text</strong> y <strong>.rel[a].data</strong>: Estas secciones, como <em>.reloc</em> en PE, almacenan información de reubicación. Indican al enlazador dinámico cómo ajustar las direcciones de memoria de las secciones .text y .data para que el programa se pueda cargar en memoria correctamente.</li>
<li data-line="5"><strong>.bss</strong>: Aunque no aparece explícitamente en la <strong>Section Table</strong> la sección <em>.bss</em> es una sección común en ELF que almacena datos no inicializados. Esta sección no ocupa espacio en el archivoo, pero se reserva espacio en memroia para datos no inicializados como variables globales no inicializadas.</li>
</ul></div><div><p>Definición de cada <strong>Section</strong> en 32 bits, empieza en <em>e_shoff</em> del <strong>ELF Header</strong> y contiene una cantidad determinada de secciónes declaradas en <em>e_shnum</em>:</p></div><div><pre class="language-c" tabindex="0"><code class="language-c is-loaded"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>    
	Elf32_Word sh_name<span class="token punctuation">;</span>      <span class="token comment">/* Nombre de sección (es un desplazamiento dentro de un array de caracteres) */</span> 
	Elf32_Word sh_type<span class="token punctuation">;</span>      <span class="token comment">/* Tipo de sección */</span>   
	Elf32_Word sh_flags<span class="token punctuation">;</span>     <span class="token comment">/* Flags */</span>  
	Elf32_Addr sh_addr<span class="token punctuation">;</span>      <span class="token comment">/* Dirección virtual, si es que la sección forma parte de un segmento que se carga en memoria */</span> 
	Elf32_Off sh_offset<span class="token punctuation">;</span>     <span class="token comment">/* Desplazamiento dentro del fichero */</span>  
	Elf32_Word sh_size<span class="token punctuation">;</span>      <span class="token comment">/* Tamaño en bytes */</span>   
	Elf32_Word sh_link<span class="token punctuation">;</span>      <span class="token comment">/* Índice de otra sección asociada, que quizá haga falta para procesar el contenido de esta */</span>  
	Elf32_Word sh_info<span class="token punctuation">;</span>      <span class="token comment">/* Información extra */</span>   
	Elf32_Word sh_addralign<span class="token punctuation">;</span> <span class="token comment">/* Alineamiento, debe ser potencia de dos */</span>  
	Elf32_Word sh_entsize<span class="token punctuation">;</span>   <span class="token comment">/* Tamaño de la entrada si la sección se refiere a una tabla */</span>   
<span class="token punctuation">}</span> Elf32_Shdr<span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Para listar las secciones de un archivo ELF podemos hacer uso del comando:</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded">readelf -S <span class="token punctuation">{</span>ELF_binary<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Ejemplo:</p></div><div><p><span alt="readelf_section_table.png" src="readelf_section_table.png" class="internal-embed media-embed image-embed is-loaded"><img alt="readelf_section_table.png" src="lib/media/readelf_section_table.png"></span></p></div><div><hr></div></div></div><div class="heading-wrapper"><h1 data-heading="Section Header Table (Elf32_Shdr / Elf64_Shdr)" class="heading" id="Section_Header_Table_(Elf32_Shdr_/_Elf64_Shdr)">Section Header Table (Elf32_Shdr / Elf64_Shdr)</h1><div class="heading-children"><div><p>La <strong>Tabla de Secciones</strong> o <strong>Section Header Table</strong> es una parte fundamental del formato ELF. Contiene entradas de tipo <strong>Elf32_Shdr</strong> o <strong>Elf64_Shdr</strong> (<strong>Sction Header</strong>) que describen cada una de las secciones en el archivo, como nombres, tipos, tamaños, offsets y otros metadatos.</p></div><div><p>La información es usada durante el tiempo de enlace dinámico, justo antes de que el programa sea ejecutado. Los <em>linkers</em> enlazan el archivo con las bibliotecas compartidas que necesita para cargarlas en memoria. También esta sección contiene información que es usada por otros archivos para encontrar las definiciones simbolicas y referencias al programa.</p></div><div><p>La principal diferencia con el <strong>Program Header</strong> es que este se enfoca en describir cómo se debn cargar los segmentos de programa en la memoria durante la ejecución, mientras que los <strong>Section Header</strong> se enfocan en proporcionar información detallada sobre las secciones individuales del archivo ELF.</p></div><div><p>Para listar la <strong>Section Header Table</strong> de un binario podemos ejecutar el comando:</p></div><div><pre class="language-bash" tabindex="0"><code class="language-bash is-loaded">readelf -S <span class="token punctuation">{</span>ELF_file<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Ejemplo:</p></div><div><p><span alt="readelf_section_table.png" src="readelf_section_table.png" class="internal-embed media-embed image-embed is-loaded"><img alt="readelf_section_table.png" src="lib/media/readelf_section_table.png"></span></p></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-sistema\global-concepts\formatos-ejecutables\linux-unix\executable-and-linkable-format-formato-elf.html#Executable and Linkable Format - Formato ELF"><div class="tree-item-contents heading-link" heading-name="Executable and Linkable Format - Formato ELF"><span class="tree-item-title">Executable and Linkable Format - Formato ELF</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-sistema\global-concepts\formatos-ejecutables\linux-unix\executable-and-linkable-format-formato-elf.html#ELF_-_Executable_and_Linkable_Format"><div class="tree-item-contents heading-link" heading-name="ELF - Executable and Linkable Format"><span class="tree-item-title">ELF - Executable and Linkable Format</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-sistema\global-concepts\formatos-ejecutables\linux-unix\executable-and-linkable-format-formato-elf.html#Estructura"><div class="tree-item-contents heading-link" heading-name="Estructura"><span class="tree-item-title">Estructura</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-sistema\global-concepts\formatos-ejecutables\linux-unix\executable-and-linkable-format-formato-elf.html#ELF_Header_(Elf32_Ehdr_/_Elf64_Ehdr)"><div class="tree-item-contents heading-link" heading-name="ELF Header (Elf32_Ehdr / Elf64_Ehdr)"><span class="tree-item-title">ELF Header (Elf32_Ehdr / Elf64_Ehdr)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-sistema\global-concepts\formatos-ejecutables\linux-unix\executable-and-linkable-format-formato-elf.html#Program_Header_Table_(Elf32_Phdr_/_Elf64_Phdr)"><div class="tree-item-contents heading-link" heading-name="Program Header Table (Elf32_Phdr / Elf64_Phdr)"><span class="tree-item-title">Program Header Table (Elf32_Phdr / Elf64_Phdr)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-sistema\global-concepts\formatos-ejecutables\linux-unix\executable-and-linkable-format-formato-elf.html#Sections"><div class="tree-item-contents heading-link" heading-name="Sections"><span class="tree-item-title">Sections</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-sistema\global-concepts\formatos-ejecutables\linux-unix\executable-and-linkable-format-formato-elf.html#Section_Header_Table_(Elf32_Shdr_/_Elf64_Shdr)"><div class="tree-item-contents heading-link" heading-name="Section Header Table (Elf32_Shdr / Elf64_Shdr)"><span class="tree-item-title">Section Header Table (Elf32_Shdr / Elf64_Shdr)</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>