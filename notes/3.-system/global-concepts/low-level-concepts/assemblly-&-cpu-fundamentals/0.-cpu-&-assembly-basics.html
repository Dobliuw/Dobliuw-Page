<!DOCTYPE html> <html><head>
		<title>0. CPU &amp; Assembly Basics</title>
		<base href="..\..\..\..\../">
		<meta id="root-path" root-path="..\..\..\..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Hacking - 0. CPU &amp; Assembly Basics">
		<meta property="og:title" content="0. CPU &amp; Assembly Basics">
		<meta property="og:description" content="Hacking - 0. CPU &amp; Assembly Basics">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://dobliuw.com/notes/3.-system/global-concepts/low-level-concepts/assemblly-&amp;-cpu-fundamentals/0.-cpu-&amp;-assembly-basics.html">
		<meta property="og:image" content="https://dobliuw.com/lib/media/lowlevel_pointers_arquitecture.png">
		<meta property="og:site_name" content="Hacking">
		<meta name="author" content="Dobliuw"><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://dobliuw.com/lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="lib/scripts/pixi.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles">mjx-container[jax=CHTML]{line-height:0}mjx-container [space="1"]{margin-left:.111em}mjx-container [space="2"]{margin-left:.167em}mjx-container [space="3"]{margin-left:.222em}mjx-container [space="4"]{margin-left:.278em}mjx-container [space="5"]{margin-left:.333em}mjx-container [rspace="1"]{margin-right:.111em}mjx-container [rspace="2"]{margin-right:.167em}mjx-container [rspace="3"]{margin-right:.222em}mjx-container [rspace="4"]{margin-right:.278em}mjx-container [rspace="5"]{margin-right:.333em}mjx-container [size="s"]{font-size:70.7%}mjx-container [size=ss]{font-size:50%}mjx-container [size=Tn]{font-size:60%}mjx-container [size=sm]{font-size:85%}mjx-container [size=lg]{font-size:120%}mjx-container [size=Lg]{font-size:144%}mjx-container [size=LG]{font-size:173%}mjx-container [size=hg]{font-size:207%}mjx-container [size=HG]{font-size:249%}mjx-container [width=full]{width:100%}mjx-box{display:inline-block}mjx-block{display:block}mjx-itable{display:inline-table}mjx-row{display:table-row}mjx-row>*{display:table-cell}mjx-mtext{display:inline-block}mjx-mstyle{display:inline-block}mjx-merror{display:inline-block;color:red;background-color:#ff0}mjx-mphantom{visibility:hidden}mjx-assistive-mml{top:0;left:0;clip:rect(1px,1px,1px,1px);user-select:none;position:absolute!important;padding:1px 0 0!important;border:0!important;display:block!important;width:auto!important;overflow:hidden!important}mjx-assistive-mml[display=block]{width:100%!important}mjx-math{display:inline-block;text-align:left;line-height:0;text-indent:0;font-style:normal;font-weight:400;font-size:100%;letter-spacing:normal;border-collapse:collapse;overflow-wrap:normal;word-spacing:normal;white-space:nowrap;direction:ltr;padding:1px 0}mjx-container[jax=CHTML][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=CHTML][display=true][width=full]{display:flex}mjx-container[jax=CHTML][display=true] mjx-math{padding:0}mjx-container[jax=CHTML][justify=left]{text-align:left}mjx-container[jax=CHTML][justify=right]{text-align:right}mjx-mn{display:inline-block;text-align:left}mjx-c{display:inline-block}mjx-utext{display:inline-block;padding:.75em 0 .2em}mjx-mo{display:inline-block;text-align:left}mjx-stretchy-h{display:inline-table;width:100%}mjx-stretchy-h>*{display:table-cell;width:0}mjx-stretchy-h>*>mjx-c{display:inline-block;transform:scaleX(1)}mjx-stretchy-h>*>mjx-c::before{display:inline-block;width:initial}mjx-stretchy-h>mjx-ext{overflow:clip visible;width:100%}mjx-stretchy-h>mjx-ext>mjx-c::before{transform:scaleX(500)}mjx-stretchy-h>mjx-ext>mjx-c{width:0}mjx-stretchy-h>mjx-beg>mjx-c{margin-right:-.1em}mjx-stretchy-h>mjx-end>mjx-c{margin-left:-.1em}mjx-stretchy-v{display:inline-block}mjx-stretchy-v>*{display:block}mjx-stretchy-v>mjx-beg{height:0}mjx-stretchy-v>mjx-end>mjx-c{display:block}mjx-stretchy-v>*>mjx-c{transform:scaleY(1);transform-origin:left center;overflow:hidden}mjx-stretchy-v>mjx-ext{display:block;height:100%;box-sizing:border-box;border:0 solid transparent;overflow:visible clip}mjx-stretchy-v>mjx-ext>mjx-c::before{width:initial;box-sizing:border-box}mjx-stretchy-v>mjx-ext>mjx-c{transform:scaleY(500) translateY(.075em);overflow:visible}mjx-mark{display:inline-block;height:0}mjx-c::before{display:block;width:0}.MJX-TEX{font-family:MJXZERO,MJXTEX}.TEX-B{font-family:MJXZERO,MJXTEX-B}.TEX-I{font-family:MJXZERO,MJXTEX-I}.TEX-MI{font-family:MJXZERO,MJXTEX-MI}.TEX-BI{font-family:MJXZERO,MJXTEX-BI}.TEX-S1{font-family:MJXZERO,MJXTEX-S1}.TEX-S2{font-family:MJXZERO,MJXTEX-S2}.TEX-S3{font-family:MJXZERO,MJXTEX-S3}.TEX-S4{font-family:MJXZERO,MJXTEX-S4}.TEX-A{font-family:MJXZERO,MJXTEX-A}.TEX-C{font-family:MJXZERO,MJXTEX-C}.TEX-CB{font-family:MJXZERO,MJXTEX-CB}.TEX-FR{font-family:MJXZERO,MJXTEX-FR}.TEX-FRB{font-family:MJXZERO,MJXTEX-FRB}.TEX-SS{font-family:MJXZERO,MJXTEX-SS}.TEX-SSB{font-family:MJXZERO,MJXTEX-SSB}.TEX-SSI{font-family:MJXZERO,MJXTEX-SSI}.TEX-SC{font-family:MJXZERO,MJXTEX-SC}.TEX-T{font-family:MJXZERO,MJXTEX-T}.TEX-V{font-family:MJXZERO,MJXTEX-V}.TEX-VB{font-family:MJXZERO,MJXTEX-VB}mjx-stretchy-h mjx-c,mjx-stretchy-v mjx-c{font-family:MJXZERO,MJXTEX-S1,MJXTEX-S4,MJXTEX,MJXTEX-A!important}@font-face{font-family:MJXZERO;src:url("lib/fonts/mathjax_zero.woff") format("woff")}@font-face{font-family:MJXTEX;src:url("lib/fonts/mathjax_main-regular.woff") format("woff")}@font-face{font-family:MJXTEX-B;src:url("lib/fonts/mathjax_main-bold.woff") format("woff")}@font-face{font-family:MJXTEX-I;src:url("lib/fonts/mathjax_math-italic.woff") format("woff")}@font-face{font-family:MJXTEX-MI;src:url("lib/fonts/mathjax_main-italic.woff") format("woff")}@font-face{font-family:MJXTEX-BI;src:url("lib/fonts/mathjax_math-bolditalic.woff") format("woff")}@font-face{font-family:MJXTEX-S1;src:url("lib/fonts/mathjax_size1-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S2;src:url("lib/fonts/mathjax_size2-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S3;src:url("lib/fonts/mathjax_size3-regular.woff") format("woff")}@font-face{font-family:MJXTEX-S4;src:url("lib/fonts/mathjax_size4-regular.woff") format("woff")}@font-face{font-family:MJXTEX-A;src:url("lib/fonts/mathjax_ams-regular.woff") format("woff")}@font-face{font-family:MJXTEX-C;src:url("lib/fonts/mathjax_calligraphic-regular.woff") format("woff")}@font-face{font-family:MJXTEX-CB;src:url("lib/fonts/mathjax_calligraphic-bold.woff") format("woff")}@font-face{font-family:MJXTEX-FR;src:url("lib/fonts/mathjax_fraktur-regular.woff") format("woff")}@font-face{font-family:MJXTEX-FRB;src:url("lib/fonts/mathjax_fraktur-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SS;src:url("lib/fonts/mathjax_sansserif-regular.woff") format("woff")}@font-face{font-family:MJXTEX-SSB;src:url("lib/fonts/mathjax_sansserif-bold.woff") format("woff")}@font-face{font-family:MJXTEX-SSI;src:url("lib/fonts/mathjax_sansserif-italic.woff") format("woff")}@font-face{font-family:MJXTEX-SC;src:url("lib/fonts/mathjax_script-regular.woff") format("woff")}@font-face{font-family:MJXTEX-T;src:url("lib/fonts/mathjax_typewriter-regular.woff") format("woff")}@font-face{font-family:MJXTEX-V;src:url("lib/fonts/mathjax_vector-regular.woff") format("woff")}@font-face{font-family:MJXTEX-VB;src:url("lib/fonts/mathjax_vector-bold.woff") format("woff")}mjx-c.mjx-c31::before{padding:.666em .5em 0 0;content:"1"}mjx-c.mjx-c2217::before{padding:.465em .5em 0 0;content:"∗"}mjx-c.mjx-c38::before{padding:.666em .5em .022em 0;content:"8"}mjx-c.mjx-c2B::before{padding:.583em .778em .082em 0;content:"+"}mjx-c.mjx-c30::before{padding:.666em .5em .022em 0;content:"0"}mjx-c.mjx-c34::before{padding:.677em .5em 0 0;content:"4"}mjx-c.mjx-c32::before{padding:.666em .5em 0 0;content:"2"}mjx-c.mjx-c3D::before{padding:.583em .778em .082em 0;content:"="}</style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="CPU"><p dir="auto">CPU</p></h1><div class="el-h1 heading-wrapper"><div class="heading-children"><div class="el-p"><p dir="auto">Como hemos explicado en <a data-href="Operative Systems Basics#CPU Architecture" href="notes/3.-system/operative-systems/operative-systems-basics.html#CPU_Architecture" class="internal-link" target="_self" rel="noopener nofollow">Operative Systems Basics &gt; CPU Architecture</a>, la <strong>CPU</strong> (<strong>Central Processing Unit</strong>) es el componente primario de una computadora que se encarga y responsabiliza de <em>ejecutar instrucciones</em>, <em>realizar calculos</em> y <em>manejar datos</em> dentro de un sistema. Funciona como el cerebro de la computadora.</p></div><div class="el-h6 heading-wrapper"><h6 data-heading="Key Componentes" dir="auto" class="heading" id="Key_Componentes"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Key Componentes</h6><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>Registers</strong>:
<ul>
<li data-line="1" dir="auto">Localizaciones de almacenamiento pequeñas y rápidas dentro de la CPU.</li>
<li data-line="2" dir="auto">Utilizados para almacenar datos temporalmente durante la ejecución.</li>
<li data-line="3" dir="auto">Ejemplos: Registros de proposito general (EAX, EBX, ECX, EDX), Stack Pointer (ESP), Base Pointer (BSP).</li>
</ul>
</li>
<li data-line="4" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>ALU</strong> (<strong>Arithmetic Logic Unit</strong>):
<ul>
<li data-line="5" dir="auto">Realiza operaciones lógicas y aritméticas.</li>
</ul>
</li>
<li data-line="6" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><strong>Control Unit</strong>:
<ul>
<li data-line="7" dir="auto">Gestiona la ejecución de instrucciones, dirigiendo el flujo de datos.</li>
</ul>
</li>
</ul></div><div class="el-hr"><hr></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Memory" dir="auto" class="heading" id="Memory">Memory</h1><div class="heading-children"><div class="el-p"><p dir="auto">La memoria almacena datos e instrucciones para uso inmediato por parte de la CPU. Tipos de memoria incluyen:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><strong>RAM</strong> (<em>Random Access Memory</em>): Volátil, utilizada para almacenamiento temporal durante ejecución.</li>
<li data-line="1" dir="auto"><strong>ROM</strong> (<em>Read-Only Memory</em>): No volátil, contiene instrucciones escenciales y datos que permanecen intactos incluso cuando el dispositivo está apagado.</li>
</ul></div><div class="el-p"><p dir="auto">La memoria permite a la computadora acceder rápidamente y recuperar datos necesarios por procesos, facilitando operaciones y el multitasking.</p></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Assembly Language" dir="auto" class="heading" id="Assembly_Language">Assembly Language</h1><div class="heading-children"><div class="el-p"><p dir="auto">El lenguaje ensamblador es un lenguaje de programación de bajo nivel que provee una representación simbólica de instrucciones máquina, como mover datos entre <em>registros</em>, realizar <em>operaciones aritmeticas</em> o <em>controlar el flujo del programa</em>. Ofrece un buen control sobre recursos del sistema y es utilizado para realizar tareas críticas.</p></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Registers" dir="auto" class="heading" id="Registers">Registers</h1><div class="heading-children"><div class="el-p"><p dir="auto">Los registros son ubicaciones de almacenamiento pequeñas y de alta velocidad dentro de la CPU, que se utilizan para almacenar datos temporalmente durante la ejecución del programa. Son el tipo de memoria más rápido en un sistema infromático, capaces de almacenar y recuperar datos mucho más rápidamente que la memoria principal (RAM).</p></div><div class="el-p"><p dir="auto">La CPU utiliza los registros para almacenar datos que se procesan activamente, incluyendo resultados intermedios de cálculos, direcciones de memoria e información de control. Son directamente accesibles mediante la <em>CPU ALU</em> y se utilizan para realizar operaciones aritméticas y lógicas, así como para controlar el flujo del programa.</p></div><div class="el-p"><p dir="auto">Tipos de registros comúnes incluidos en una CPU incluyen:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><div class="list-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>
<p><strong>General-Purpose Registers</strong>: Los registros de propósito general en x86 se utilizan para diversas operaciones aritméticas, lógicas y de manipulación de datos. Estos registros son:</p>
<ul>
<li data-line="1" dir="auto"><em>EAX</em> (<em>AX</em>, <em>AL</em>, <em>AH</em>): Acumulador principal utilizado en operaciones aritméticas y lógicas. EAX es el registro completo de 32 bits, AX es la mitad inferrior de 16 bits, y AL y AH son los bytes inferior y superior de AX, respectivamente.</li>
<li data-line="2" dir="auto"><em>EBX</em> (<em>BX</em>, <em>BL</em>, <em>BH</em>): Registro base utilizado en operaciones de índice y a veces en direccionamiento de memoria.</li>
<li data-line="3" dir="auto"><em>ECX</em> (<em>CX</em>, <em>CL</em>, <em>CH</em>): Contador utilizado en operaciones de bucles y cadenas.</li>
<li data-line="4" dir="auto"><em>EDX</em> (<em>DX</em>, <em>DL</em>, <em>DH</em>): Registro de datos utilizados en operaciones de multiplicación y división extendidas.</li>
<li data-line="5" dir="auto"><em>ESI</em> (<em>SI</em>): Índice de fuente utilizado en operaciones de manipulación de cadenas.</li>
<li data-line="6" dir="auto"><em>EDI</em> (<em>DI</em>): Índice de destino utilizado en operaciones de manipulación de cadenas.</li>
<li data-line="7" dir="auto"><em>EBP</em> (<em>BP</em>): Puntero base utilizado para referencia de pila.</li>
<li data-line="8" dir="auto"><em>ESP</em> (<em>ESP</em>): Puntero de pila que apunta a la parte superior de la pila.</li>
</ul>
</li>
<li data-line="10" dir="auto">
<p><strong>Program counter (PC) Register</strong> / <strong>Instruction Pointer (IP)</strong>: Este es el registro del puntero de instrucción que contiene la dirección de la próxima instrucción a ejecutar. En modo <em>protected</em> de 32 bits se llama <em>EIP</em>, y en modo <em>large</em> de 64 bits se llama <em>RIP</em>. </p>
</li>
<li data-line="12" dir="auto">
<p><strong>Stack Pointer (SP) Register</strong>: El puntero de pila apunta a la ubicación actual en la pila (<em>stack</em>) y es utilizado par amanejar la misma durante <em>sobroutine calls</em> y <em>returns</em>. En modo de 32 bits se llama <em>ESP</em> y en modo de 64 bits se lama <em>RSP</em>. La pila se utiliza para almacenar datos temporales, direcciones de retorno y para pasar argumentos a las funciones.</p>
</li>
<li data-line="14" dir="auto">
<p><strong>Base Pointer (BP)</strong>: El puntero base se utiliza para referencia de pila y a menudo se utiliza para acceder a parámetros y variables locales dentro de una función. En modo de 32 bits se llama <em>EBP</em> y en modo de 64 bits se llama <em>RBP</em>.</p>
</li>
</ul></div><div class="el-p"><p dir="auto">Como vimos, los nombres de registros pueden cambiar su sintáxis según la arquitectura:</p></div><div class="el-p"><p dir="auto"><span alt="lowlevel_pointers_arquitecture.png" src="lowlevel_pointers_arquitecture.png" class="internal-embed media-embed image-embed is-loaded"><img alt="lowlevel_pointers_arquitecture.png" src="lib/media/lowlevel_pointers_arquitecture.png"></span></p></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Memory Addresses" dir="auto" class="heading" id="Memory_Addresses">Memory Addresses</h1><div class="heading-children"><div class="el-p"><p dir="auto">Las <em>direcciones de memoria</em> son identificadores númericos utilizados para localizar y acceder a datos almacenados en la memoria de la computadora. En un sistema informático, la memoria es organizada como una secuencia de bytes, cada uno con una dirección única. Estas direcciones sirven como referencias a ubicaciones específicas dentro del espacio de memoria.</p></div><div class="el-p"><p dir="auto">Cuando un programa es ejecutado, los datos e instrucciones son cargados en memoria, y la CPU utiliza las direcciones de memoria para leer o escribir y ejecutar instrucciones. Por ejemplo, cuando una variable es declarada en un programa, es asiganada una dirección de memoria donde se encontrará el valor almacenado en esta. De manera similar, cuando se recupera una instrucción para su ejecución, su dirección de memoria correspondiente se utiliza para recuperar la instrucción de la memoria.</p></div><div class="el-p"><p dir="auto">Las direcciones de memoria suelen estar representadas en <em>hexadecimal</em> y pueden tener un rango desde <em>0x00000000</em> a <em>0xFFFFFFFF</em> (En un sistema de 32 bit) o incluso mayores en un sistema de 64 bits. El tamaño de la dirección de memoria determina la cantidad máxima de memoria que puede ser direccionada por el CPU, conocido como <em>addressable memory space</em>. </p></div><div class="el-p"><p dir="auto">Para hacer esto un poco más visual, vamos a ejemplificarlo con la siguiente imagén:</p></div><div class="el-p"><p dir="auto"><span alt="memory_addressing_with_numbers_example.png" src="memory_addressing_with_numbers_example.png" class="internal-embed media-embed image-embed is-loaded"><img alt="memory_addressing_with_numbers_example.png" src="lib/media/memory_addressing_with_numbers_example.png"></span></p></div><div class="el-p"><p dir="auto">Como se puede ver, cada número representa una dirección de memoria única la cual contiene una instrucción en lenguaje ensamblador.</p></div><div class="el-p"><p dir="auto">Para entender como se vería el direccionamiento de este ejemplo en realidad, deberíamos desglozar el código en ensamblador:</p></div><div class="el-pre"><pre class="language-asm" tabindex="0"><code data-line="0" class="language-asm is-loaded">push ebp
mov ebp, esp
sub esp, 0x10
mov [ebp-0x8], 0x1
</code><button class="copy-code-button">Copy</button></pre></div><div class="el-p"><p dir="auto">Cada instrucción ensamblador se traduce a una secuencia de bytes en código máquina, que se almacenan en ubicaciones consecutivas en memoria. Vamos a asignar direcciones de memorias específicas a estas instrucciones y mostrar sus correspondientes representaciones en código máquina:</p></div><div class="el-ol"><ol>
<li data-line="0" dir="auto">
<p><code>push ebp</code>: Esta instrucción trasladada a código máquina tendría el valor de <code>55</code> y la función equivaldría a guardar el valor actual del registro <strong>EBP</strong> en el <em>stack</em>. Esto se hace para preservar el valor del EBP antes de modificarlo.</p>
</li>
<li data-line="2" dir="auto">
<p><code>mov ebp, esp</code>: Esta instrucción trasladada a código máquina tendría el valor de <code>89 E5</code> y la función sería copiar el valor del registro <strong>ESP</strong> (<em>Stack Pointer</em>) al registro <strong>EBP</strong>, estableciendo el puntero base del nuevo marco de pila (<em>stack frame</em>) al valor actual de ESP. </p>
</li>
<li data-line="4" dir="auto">
<p><code>sub esp, 0x10</code>: Esta instrucción trasladada a código máquina tendría el valor de <code>83 EC 10</code> y la función sería <em>restar 16</em> (0x10 en hexadecimal) del registro <strong>ESP</strong>, reservando espacio en la pila para las variables locales, esto desplaza el puntero de pila (ESP) hacia abajo, creando espacio para las variables locales.</p>
</li>
<li data-line="6" dir="auto">
<p><code>mov [ebp-0x8], 0x1</code>: Esta instrucción final trasladada a código máquina tendría el valor de <code>C7 45 F8 01 00 00 00</code> y su función sería <em>mover el valor 1</em> a la dirección de memoria <em>ebp-0x8</em>, esta es una ubicación de memoria en el nuevo marco de pila (<em>stack frame</em>), al crear un stack frame, <strong>EBP</strong> actúa como una referencia estable desde la cual se pueden acceder las variables locales y los parámetros de la función.</p>
</li>
</ol></div><div class="el-table" dir="ltr" style="overflow-x: auto;"><table>
<thead>
<tr>
<th dir="ltr">Dirección de memoria</th>
<th dir="ltr">Código Máquina</th>
<th dir="ltr">Instrucción en lenguaje ensamblador</th>
</tr>
</thead>
<tbody>
<tr>
<td dir="ltr">0x0000</td>
<td dir="auto">55</td>
<td dir="ltr">push ebp</td>
</tr>
<tr>
<td dir="ltr">0x0001</td>
<td dir="ltr">89 E5</td>
<td dir="ltr">mov ebp, esp</td>
</tr>
<tr>
<td dir="ltr">0x0003</td>
<td dir="ltr">83 EC 10</td>
<td dir="ltr">sub esp, 0x10</td>
</tr>
<tr>
<td dir="ltr">0x0006</td>
<td dir="ltr">C7 45 F8 01 00 00 00</td>
<td dir="ltr">mov [ebp-0x8], 0x1</td>
</tr>
</tbody>
</table></div><div class="el-p"><p dir="auto">Hay reglas y convenciones definidas que explican cómo se traducen las instrucciones ensamblador a código máquina. Estas reglas se especifican en la documentación del conjunto de instrucciones de la CPU (ISA, Instruction Set Architecture), la traducción de código implica varios conceptos y componentes:</p></div><div class="el-ul"><ul>
<li data-line="0" dir="auto"><em>Opcode</em> (Código de operación) : Especifica la operación a realizar.</li>
<li data-line="1" dir="auto"><em>ModR/M Byte</em>: Utilizado para especificar los operandos.</li>
<li data-line="2" dir="auto"><em>SIB Byte</em>: Si es necesario se utiliza para direccionamientos más complejos.</li>
</ul></div><div class="el-p"><p dir="auto">En resumen, para entender el direccionamiento en memoria hay que entender el sistema hexadecimal (<a data-href="General Concepts#Hexadecimal System" href="General Concepts#Hexadecimal System" class="internal-link" target="_self" rel="noopener nofollow">General Concepts &gt; Hexadecimal System</a>) por lo que un real ejemplo de direcciones de memoria se vería tal que así:</p></div><div class="el-p"><p dir="auto"><span alt="real_addressing_example.png" src="real_addressing_example.png" class="internal-embed media-embed image-embed is-loaded"><img alt="real_addressing_example.png" src="lib/media/real_addressing_example.png"></span></p></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="The Stack" dir="auto" class="heading" id="The_Stack">The Stack</h1><div class="heading-children"><div class="el-p"><p dir="auto"><em>La pila</em> (<em>The Stack</em>) es una region de memoria utilizada por los programas para almacenar datos temporales y manejar los llamados de funciones. Opera en los principios <strong>LIFO</strong> (<strong>Last-In-First-Out</strong>), significando que el dato ingresado (<em>pushed</em>) más reciente al stack será el principal en dejar el mismo (<em>popped off</em>).</p></div><div class="el-p"><p dir="auto">Cuando una función es llamada, frecuentemente sus <em>variables</em> y <em>parámetros</em> son almacenados en el stack, junto con la dirección de retorno, que apunta a la instrucción para renaudar la ejecución después de la llamada a la función. A medida que se llaman y retornan funciones, estos datos son <em>pushed</em> y <em>popped off</em> de la pila en consecuencia.</p></div><div class="el-p"><p dir="auto">La pila frecuentemente esta posicionada en el final del espacio de dirección de memoria en un sistema informático. Esto significa que ocupa las direcciones de memoria más bajas, y las direcciones aumentan a medida que asciende el stack.</p></div><div class="el-p"><p dir="auto">En un sistema con una pila que crece hacia abajo (<em>downward-growing stack</em>), como en arquitecturas x86, la pila comienza en la dirección de memoria más alta y crece hacia abajo a medida que se instroducen más datos en ella. Por el contrario, en sistemas que crecen hacia arriba (<em>upward-growing stack</em>), como algunas arquitecturas embebidas, el stack comienza en la dirección de memoria más baja y crece hacia arriba.</p></div><div class="el-p"><p dir="auto">Independientemente de la dirección, la parte inferior de la pila es donde los nuevos datos son <em>pushed</em>, mientras que el tope de la pila es donde la data es <em>popped off</em>. Esta disposición permite que la pila administre eficientemente llamadas a funciones, variables locales y otros datos temporales dentro de un programa.</p></div><div class="el-p"><p dir="auto">En el siguiente gráfico podrémos ver como se ve <em>la pila</em>:</p></div><div class="el-p"><p dir="auto"><span alt="stack_low_level_concepts_representation.png" src="stack_low_level_concepts_representation.png" class="internal-embed media-embed image-embed is-loaded" style="width: 600px; max-width: 100%;"><img alt="stack_low_level_concepts_representation.png" src="lib/media/stack_low_level_concepts_representation.png" style="width: 600px; max-width: 100%;"></span></p></div><div class="el-p"><p dir="auto">Como podemos ver, al final de el espacio de memoria que ocupe nuestro programa nos encontraremos con la pila, mientras que al principio del mismo podremos encontrar las instrucciones de nuestro programa.</p></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="[[1. Assembly Instructions - (x86)]]" dir="auto" class="heading" id="[[1._Assembly_Instructions_-_(x86)]]"><a data-href="1. Assembly Instructions - (x86)" href="notes/3.-system/global-concepts/low-level-concepts/assemblly-&amp;-cpu-fundamentals/1.-assembly-instructions-(x86).html" class="internal-link" target="_self" rel="noopener nofollow">1. Assembly Instructions - (x86)</a></h1><div class="heading-children"><div class="el-p"><p dir="auto">Esta sección requiere de su propio articulo dado el contenido que presenta y se explica en esta. Por lo que antes de seguir con la siguiente sección (<em>Instruction Pointer</em>), se recomienda ir a dicho articulo y entender los conceptos explicados en este.</p></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Instruction Pointer (IP)" dir="auto" class="heading" id="Instruction_Pointer_(IP)">Instruction Pointer (IP)</h1><div class="heading-children"><div class="el-p"><p dir="auto">El <em>Instruction Pointer</em> (<em>IP</em>) contiene la dirección de memoria de la siguiente instrucción a ejecutar. Por ejemplo, el <code>EIP</code> apunta a la dirección de memoria <strong>0x7FFFFFF4</strong>, lo que significa que la proxima instrucción a ejecutarse será <code>mov eax, 0x10</code>, la cual indica que se copiara el valor <em>0x10</em> dentro del registro <code>EAX</code>:</p></div><div class="el-p"><p dir="auto"><span alt="EIP_example_explanation_1.png" src="EIP_example_explanation_1.png" class="internal-embed media-embed image-embed is-loaded"><img alt="EIP_example_explanation_1.png" src="lib/media/eip_example_explanation_1.png"></span></p></div><div class="el-p"><p dir="auto">Luego de ejecutar la ejecución alojada en la dirección de memoria <strong>0x7FFFFFF4</strong>, <code>EAX</code> pasará a tener el valor de <em>0x10</em> y el registro <code>EIP</code> apuntará a la siguiente dirección, es decir <strong>0x7FFFFFF5</strong>: </p></div><div class="el-p"><p dir="auto"><span alt="EIP_example_explanation_2.png" src="EIP_example_explanation_2.png" class="internal-embed media-embed image-embed is-loaded"><img alt="EIP_example_explanation_2.png" src="lib/media/eip_example_explanation_2.png"></span></p></div><div class="el-p"><p dir="auto">Como podemos ver, el <code>EIP</code> a sido incrementado en una dirección y ahora apunta a la dirección <strong>0x7FFFFFF5</strong>, en donde se alojá la instrucción de alojar el valor de <em>0x1</em> en <code>EBX</code>, una vez ejecutada esta instrucción, se volverá a incrementar en una dirección el valor de <code>EIP</code>: </p></div><div class="el-p"><p dir="auto"><span alt="EIP_example_explanation_3.png" src="EIP_example_explanation_3.png" class="internal-embed media-embed image-embed is-loaded"><img alt="EIP_example_explanation_3.png" src="lib/media/eip_example_explanation_3.png"></span></p></div><div class="el-p"><p dir="auto">En la instrucción alojada en la dirección <strong>0x7FFFFFF6</strong>, esta la operación <code>sub eax, ebx</code>, indacando que el valor almacenado en <code>ebx</code> será restado al valor almacenado en <code>eax</code> (<em>eax - ebx</em>) y se igualará <code>eax</code> a el resultado de esta operación, lo que dará resultado de <em>0xF</em>: </p></div><div class="el-p"><p dir="auto"><span alt="EIP_example_explanation_4.png" src="EIP_example_explanation_4.png" class="internal-embed media-embed image-embed is-loaded"><img alt="EIP_example_explanation_4.png" src="lib/media/eip_example_explanation_4.png"></span></p></div><div class="el-p"><p dir="auto">Finalmente, el <code>EIP</code> se volverá a incrementar pasando a apuntar a la dirección de memoria <strong>0x7FFFFFF7</strong> la cual contiene la instrucción aritmética <code>add eax, 0x1</code>, lo cual sumará el valor almacenado en <code>EAX</code> (<em>0xF</em>) en una unidad (<em>0x1</em>), lo que dará como resultado <em>0x10</em> y <code>EAX</code> pasará a valer eso.</p></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Stack Pointer (SP)" dir="auto" class="heading" id="Stack_Pointer_(SP)">Stack Pointer (SP)</h1><div class="heading-children"><div class="el-p"><p dir="auto">El puntero de la pila (<em>Stack Pointer</em>) es un registro que almacena la dirección de memoria de la parte superior (Top) del stack. Indica la posición actual en la pila donde se insertan o extraen los datos durante la ejecución del programa.</p></div><div class="el-p"><p dir="auto"><span alt="stack_pointer_example_1.png" src="stack_pointer_example_1.png" class="internal-embed media-embed image-embed is-loaded"><img alt="stack_pointer_example_1.png" src="lib/media/stack_pointer_example_1.png"></span></p></div><div class="el-p"><p dir="auto">Cada sección del stack ocupa 4 bytes, por lo que para mantener el <code>SP</code> alineado, será incrementado o decrementado en 4 bytes. Los números en hexadecimal pintados de rojo representan las direcciones de memoria correspondientes a las posiciones dentro del stack. Esto explica la diferencia de 4 bytes entre ellos. El <code>SP</code> no indica los valores almacenados dentro de estas secciones, si no sus direcciones.</p></div><div class="el-p"><p dir="auto"><span alt="stack_pointer_example_2.png" src="stack_pointer_example_2.png" class="internal-embed media-embed image-embed is-loaded"><img alt="stack_pointer_example_2.png" src="lib/media/stack_pointer_example_2.png"></span></p></div><div class="el-p"><p dir="auto">En este ejemplo, el <code>ESP</code> (<em>Stack Pointer</em>) apunta a la dirección <strong>0x14</strong> dentro del stack. Esta sección almacena el valor <em>0x45454545</em>, representando la string "<em>EEEE</em>". Fijemonos, que en lugar de referirnos a que el <code>ESP</code> es <em>0x45454545</em>, <code>ESP</code> representa la dirección <strong>0x14</strong> que a su vez apunta al valor <em>0x45454545</em>. </p></div><div class="el-p"><p dir="auto"><code>ESP</code> --&gt; <strong>0x14</strong> --&gt; <em>0x45454545</em></p></div><div class="el-p"><p dir="auto">Explicar esto puede ayudar a librarnos de confusiones tras visualizar que el <code>ESP</code> apunta a una sección del stack donde se almacena <em>data</em>, dado que como mencionamos, en realidad, el <code>ESP</code> apunta a la dirección de memoria que almacena esa <em>data</em>. </p></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Understanding the stack" dir="auto" class="heading" id="Understanding_the_stack">Understanding the stack</h1><div class="heading-children"><div class="el-p"><p dir="auto">Para terminar de ascentar los conocimientos y el entendimiento del flujo de trabajo y funcionamiento de los conceptos previamente mencionados, vamos a citar un ejemplo gráfico sobre esto.</p></div><div class="el-p"><p dir="auto">Como podemos observar en la imagen de abajo, tenemos el registro <code>EIP</code> apuntando a la siguiente instrucción a ejecutar, en este caso <em>mov eax, 0x1234</em>, instrucción que cargará el registro <code>EAX</code> con el valor de <em>0x1234</em>, mientras que el <strong>Stack</strong> se encuentra en las direcciones de memoria más altas (En este ejemplo <em>0xFF</em>) y el registro <code>ESP</code> apunta al stack.</p></div><div class="el-p"><p dir="auto"><span alt="stack_and_eip_example_full_1.png" src="stack_and_eip_example_full_1.png" class="internal-embed media-embed image-embed is-loaded"><img alt="stack_and_eip_example_full_1.png" src="lib/media/stack_and_eip_example_full_1.png"></span></p></div><div class="el-p"><p dir="auto">Una vez ejecutada la instrucción mencionada, el registro <code>EIP</code> incrementa su valor apuntando a la siguiente instrucción la cual será <em>push eax</em>, instrucción que cargará en la <strong>pila</strong> el valor almacenado en el registro <code>EAX</code>, siendo <em>0x1234</em> (Valor almacenado por la instrucción anterior de nuestro programa). </p></div><div class="el-p"><p dir="auto"><span alt="stack_and_eip_example_full_2.png" src="stack_and_eip_example_full_2.png" class="internal-embed media-embed image-embed is-loaded"><img alt="stack_and_eip_example_full_2.png" src="lib/media/stack_and_eip_example_full_2.png"></span></p></div><div class="el-p"><p dir="auto">La instrucción <em>push eax</em> <strong>decrementará</strong> el valor de la pila en 4 bytes, podríamos entender mejor esto traduciendo esta instrucción a dos instrucciones, por un lado <em>sub esp, 0x4</em>, instrucción que decrementará 4 bytes del registro <code>ESP</code> (<em>Stack Pointer</em>) y por otro lado en la instrucción <em>mov [esp], eax</em>, instrucción que moverá el valor almacenado en <code>EAX</code> dentro de la localización apuntada por el <code>ESP</code>.</p></div><div class="el-p"><p dir="auto">Como se puede ver en la imagen de abajo, una vez ejecutada la instrucción <em>push eax</em>, el valor almacenado en este registro (<em>0x1234</em>) será enviado al <strong>stack</strong>, donde el <code>ESP</code> será decrementado y apuntará a la dirección de memoria del comienzo del stack, donde estará nuestro valor <em>0x1234</em>.</p></div><div class="el-p"><p dir="auto"><span alt="stack_and_eip_example_full_3.png" src="stack_and_eip_example_full_3.png" class="internal-embed media-embed image-embed is-loaded"><img alt="stack_and_eip_example_full_3.png" src="lib/media/stack_and_eip_example_full_3.png"></span></p></div><div class="el-p"><p dir="auto">A su vez, el <code>EIP</code> nuevamente incrementará su valor apuntando a la dirección en memoria que almacena la siguiente instrucción (<em>pop ebx</em>), instrucción que incrementará el valor de la pila en 4 bytes y almacenará el valor hayado en la dirección de memoria de la pila para trasladarlo al registro <code>EBX</code>.</p></div><div class="el-p"><p dir="auto">Nuevamente podríamos traducir la instrucción <em>pop ebx</em> en dos instrucciones, por un lado <em>mov ebx, [esp]</em> la cual moverá el valor almacenado en la dirección de memoria del registro <code>ESP</code> al registro <code>EBX</code>, y por otro lado la instrucción <em>add esp, 0x4</em> la cual incrementará el valor del stack, es decir, del registro <code>ESP</code> en 4 bytes.</p></div><div class="el-p"><p dir="auto"><span alt="stack_and_eip_example_full_4.png" src="stack_and_eip_example_full_4.png" class="internal-embed media-embed image-embed is-loaded"><img alt="stack_and_eip_example_full_4.png" src="lib/media/stack_and_eip_example_full_4.png"></span></p></div><div class="el-hr"><hr></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Control Flow - GOTOs - Jumps/Branches/Calls" dir="auto" class="heading" id="Control_Flow_-_GOTOs_-_Jumps/Branches/Calls">Control Flow - GOTOs - Jumps/Branches/Calls</h1><div class="heading-children"><div class="el-p"><p dir="auto">Para manipular el flujo del programa, el lenguaje ensamblador provee instrucciones <em>jump</em>, comunmente conocidas como <strong>GOTOs</strong>. Estas instrucciones trabajan para modificar el <em>Instruction Pointer</em> (<code>IP</code> o <code>EIP</code>) cuando son ejecutadas. Hay dos tipos principales de instrucciones <em>jump</em>: <code>unconditional</code> jumps y <code>conditional</code> jumps.</p></div><div class="el-h6 heading-wrapper"><h6 data-heading="Unconditional jumps" dir="auto" class="heading" id="Unconditional_jumps"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Unconditional jumps</h6><div class="heading-children"><div class="el-p"><p dir="auto">Un <em>unconditional jump</em>, a veces referenciado simplemente como <em>jump</em>, modifica el <code>EIP</code> para apuntar directamente a una dirección de memoria. Cuando se ejecuta, el flujo de control se transfiere a la dirección de memoria especificada sin ninguna condición.</p></div><div class="el-p"><p dir="auto">Por ejemplo a raíz de la siguiente instrucción (<em>jmp 0x03</em>) se llevará a cabo un salto a la dirección en memoria <em>0x03</em>::</p></div><div class="el-p"><p dir="auto"><span alt="unconditional_jumps_examples_1.png" src="unconditional_jumps_examples_1.png" class="internal-embed media-embed image-embed is-loaded" style="width: 500px; max-width: 100%;"><img alt="unconditional_jumps_examples_1.png" src="lib/media/unconditional_jumps_examples_1.png" style="width: 500px; max-width: 100%;"></span> <span alt="unconditional_jumps_examples_2.png" src="unconditional_jumps_examples_2.png" class="internal-embed media-embed image-embed is-loaded" style="width: 535px; max-width: 100%;"><img alt="unconditional_jumps_examples_2.png" src="lib/media/unconditional_jumps_examples_2.png" style="width: 535px; max-width: 100%;"></span></p></div></div></div><div class="el-h6 heading-wrapper"><h6 data-heading="Conditional jumps" dir="auto" class="heading" id="Conditional_jumps"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Conditional jumps</h6><div class="heading-children"><div class="el-p"><p dir="auto">Un <em>conditional jump</em> o <em>conditional branch</em> modifica el <code>EIP</code> para qeu apunte directamente a la dirección especificada según el estado de ciertos indicadores. Por ejemplo, la instrucción <em>jne</em> (<em>jump if not equal</em>) salta a la dirección espeificada solo si <code>ZeroFlag</code> (<code>ZF</code>) es 0, lo que indica que la operación aritmética anterior no resultó en cero.</p></div><div class="el-p"><p dir="auto">Por ejemplo, en la siguiente imagen entendemos que seteamos el registro <code>EAX</code> en <em>10</em> y el registro <code>EBX</code> en <em>5</em>, posteriormente comparamos estos registros. Dado que 5 y 10 no son iguales, cuando el registro <code>EIP</code> apunte a la instrucción <em>jne 0x01</em>, dado que <code>ZeroFlag</code> es <em>0</em>, el programa saltará a la dirección en memoria específicada, en este caso <em>0x01</em>:</p></div><div class="el-p"><p dir="auto"><span alt="conditional_jumps_examples_1.png" src="conditional_jumps_examples_1.png" class="internal-embed media-embed image-embed is-loaded" style="width: 500px; max-width: 100%;"><img alt="conditional_jumps_examples_1.png" src="lib/media/conditional_jumps_examples_1.png" style="width: 500px; max-width: 100%;"></span> <span alt="conditional_jumps_examples_2.png" src="conditional_jumps_examples_2.png" class="internal-embed media-embed image-embed is-loaded" style="width: 500px; max-width: 100%;"><img alt="conditional_jumps_examples_2.png" src="lib/media/conditional_jumps_examples_2.png" style="width: 500px; max-width: 100%;"></span></p></div><div class="el-p"><p dir="auto">Si no se cumple la condición especificada por la instrucción <em>jne</em>, lo que significa que los registros que se compararon son iguales, entonces el flujo del programa no saltará a la dirección de destino especificada por la instrucción. En cambio, el puntero de instrucción simplemente pasará a la siguiente instrucción en secuencia. En este ejemplo, en caso de que no se hubiera cumplido la condición simplemente <code>EIP</code> apuntaría a <em>0x07</em> en lugar de saltar a <em>0x01</em>, es decir que en este caso la instrucción <em>jne 0x01</em> pasaría a simular un <em>nop</em> (<em>No operation</em>). </p></div><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#CPU"><div class="tree-item-contents heading-link" heading-name="CPU"><span class="tree-item-title">CPU</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="6"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Key_Componentes"><div class="tree-item-contents heading-link" heading-name="Key Componentes"><span class="tree-item-title">Key Componentes</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Memory"><div class="tree-item-contents heading-link" heading-name="Memory"><span class="tree-item-title">Memory</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Assembly_Language"><div class="tree-item-contents heading-link" heading-name="Assembly Language"><span class="tree-item-title">Assembly Language</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Registers"><div class="tree-item-contents heading-link" heading-name="Registers"><span class="tree-item-title">Registers</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Memory_Addresses"><div class="tree-item-contents heading-link" heading-name="Memory Addresses"><span class="tree-item-title">Memory Addresses</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#The_Stack"><div class="tree-item-contents heading-link" heading-name="The Stack"><span class="tree-item-title">The Stack</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#[[1._Assembly_Instructions_-_(x86)]]"><div class="tree-item-contents heading-link" heading-name="[[1. Assembly Instructions - (x86)]]"><span class="tree-item-title"><a data-href="1. Assembly Instructions - (x86)" href="1. Assembly Instructions - (x86)" class="internal-link" target="_blank" rel="noopener nofollow">1. Assembly Instructions - (x86)</a></span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Instruction_Pointer_(IP)"><div class="tree-item-contents heading-link" heading-name="Instruction Pointer (IP)"><span class="tree-item-title">Instruction Pointer (IP)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Stack_Pointer_(SP)"><div class="tree-item-contents heading-link" heading-name="Stack Pointer (SP)"><span class="tree-item-title">Stack Pointer (SP)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Understanding_the_stack"><div class="tree-item-contents heading-link" heading-name="Understanding the stack"><span class="tree-item-title">Understanding the stack</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Control_Flow_-_GOTOs_-_Jumps/Branches/Calls"><div class="tree-item-contents heading-link" heading-name="Control Flow - GOTOs - Jumps/Branches/Calls"><span class="tree-item-title">Control Flow - GOTOs - Jumps/Branches/Calls</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="6"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Unconditional_jumps"><div class="tree-item-contents heading-link" heading-name="Unconditional jumps"><span class="tree-item-title">Unconditional jumps</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="6"><a class="tree-link" href="notes\3.-system\global-concepts\low-level-concepts\assemblly-&amp;-cpu-fundamentals\0.-cpu-&amp;-assembly-basics.html#Conditional_jumps"><div class="tree-item-contents heading-link" heading-name="Conditional jumps"><span class="tree-item-title">Conditional jumps</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>